!function(r,d,s){d.wp.gdrts.core.like_this={run:function(){wp.gdrts.hooks.addAction("gdrts-core-common-methods-run",function(t,s){d.wp.gdrts.core.like_this.single.init(s),d.wp.gdrts.core.like_this.list.init(s)}),wp.gdrts.hooks.addAction("gdrts-dynamic-process-onload",function(t){r(t).hasClass("gdrts-method-like-this")&&d.wp.gdrts.core.like_this.single.process(r(".gdrts-like-this",t))})},single:{init:function(t){r(".gdrts-rating-block .gdrts-like-this",t).each(function(){d.wp.gdrts.core.like_this.single.process(this)}),r(s).on("mouseover",".gdrts-likes-theme-expanding .gdrts-like:not(.gdrts-like-expanded)",function(){r(this).addClass("gdrts-like-expanded"),r(".gdrts-like-this-suffix",this).animate({"margin-left":"5px"},100,function(){r(this).animate({"max-width":"256px"},150,function(){r(this).parent().next().animate({padding:"5px 10px 5px 20px"},100,function(){r(this).animate({"max-width":"512px"},150)})})})})},call:function(t,s){var i=d.wp.gdrts.core._b(t),t=d.wp.gdrts.core._d(t),t={todo:"vote",method:"like-this",item:t.item.item_id,nonce:t.item.nonce,render:t.render,uid:t.uid,meta:{value:s}};wp.gdrts.hooks.doAction("gdrts-rating-method-pre-ajax","like-this",i,t),d.wp.gdrts.help.remote.call(t,d.wp.gdrts.core.like_this.single.voted,d.wp.gdrts.help.remote.error)},voted:function(t){var s;"error"===t.status?d.wp.gdrts.core.common.error(t):(s=r(t.render).hide(),r("#gdrts-unique-id-"+t.uid).fadeOut(150,function(){r(this).replaceWith(s),s.fadeIn(300,function(){d.wp.gdrts.core.common.process(this),d.wp.gdrts.core.like_this.single.process(r(".gdrts-like-this",this)),r(this).attr("role","alert"),wp.gdrts.hooks.doAction("gdrts-like-this-voted",r(this)),wp.gdrts.hooks.doAction("gdrts-rating-block-loaded",r(this),"like-this")})}))},adjust:function(t){var s=d.wp.gdrts.core._b(t).find(".gdrts-rating-text.gdrts-text-inline"),i=d.wp.gdrts.core._b(t).find(".gdrts-rating-please-wait.gdrts-text-inline"),t=r(".gdrts-like-link",t).outerHeight();s.length&&s.css("height",t+"px").css("line-height",t+"px"),i.length&&i.css("height",t+"px").css("line-height",t+"px")},process:function(t){var s,i,e=d.wp.gdrts.core._d(t).likes;d.wp.gdrts.core.like_this.single.adjust(t),r(t).hasClass("gdrts-with-fonticon")&&(s=e.type+"-"+e.name,i={font:e.name,name:e.type,like:d.wp.gdrts.help.char(e.chars.like),liked:d.wp.gdrts.help.char(e.chars.liked),clear:d.wp.gdrts.help.char(e.chars.clear)},d.wp.gdrts.core.style.like(s,i)),r(t).hasClass("gdrts-state-active")&&d.wp.gdrts.core.like_this.single.activity(t,e),wp.gdrts.hooks.doAction("gdrts-like-this-single-init",t)},activity:function(i,t){r(".gdrts-sr-button",i).click(function(t){t.preventDefault(),d.wp.gdrts.core.like_this.single.do_rating(r(this).data("rating"),r(this).parent(),i)}),r(".gdrts-like-link",i).click(function(t){var s=r(this).find(".gdrts-clear-symbol, .gdrts-like-symbol").data("rating");d.wp.gdrts.core.like_this.single.do_rating(s,this,i)})},do_rating:function(t,s,i){var e;d.wp.gdrts.core._b(s).hasClass("gdrts-vote-saving")||(e=d.wp.gdrts.core._b(i),wp.gdrts.hooks.applyFilters("gdrts-like-this-do-vote",!0,t,e)?(d.wp.gdrts.core._b(r(s).parent()).addClass("gdrts-vote-saving"),d.wp.gdrts.core.like_this.single.call(i,t)):wp.gdrts.hooks.doAction("gdrts-like-this-vote-prevented",t,e))}},list:{init:function(t){r(".gdrts-rating-list .gdrts-like-this",t).each(function(){d.wp.gdrts.core.like_this.list.process(this)})},process:function(t){var s,i;r(t).data().hasOwnProperty("gdrts")||(r(t).data("gdrts","done"),i=d.wp.gdrts.core._d(t).likes,r(t).hasClass("gdrts-with-fonticon")&&(s=i.type+"-"+i.name,i={font:i.name,name:i.type,like:d.wp.gdrts.help.char(i.chars.like),liked:d.wp.gdrts.help.char(i.chars.liked),clear:d.wp.gdrts.help.char(i.chars.clear)},d.wp.gdrts.core.style.like(s,i)),wp.gdrts.hooks.doAction("gdrts-like-this-list-init",t))}}},d.wp.gdrts.core.like_this.run()}(jQuery,window,document);